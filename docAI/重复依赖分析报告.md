# 依赖重复分析报告

生成时间：2025-12-01

## 总结

✅ **好消息：slf4j 没有重复的实现包**
- 只有 `org.slf4j:slf4j-api`，这是正常的 API 包（不同版本最终统一到 2.0.1）
- 没有发现 `slf4j-simple`、`slf4j-log4j12`、`logback-classic` 等冲突实现

⚠️ **发现的重复依赖（同一个库的多个版本）**

---

## 1. 日志相关（Log4j）

### org.apache.logging.log4j:log4j-api
- **2.19.0** ← 主版本
- 2.17.1
- 2.17.0
- 2.11.+

**影响：** 中等  
**建议：** Gradle 会自动选择最高版本 2.19.0，这个是正常的依赖解析，无需处理

### org.apache.logging.log4j:log4j-core
- **2.19.0** ← 主版本
- 2.17.1
- 2.11.+
- 2.8.1

**影响：** 中等  
**建议：** 同上，会统一到 2.19.0

---

## 2. ASM 字节码库

### org.ow2.asm:asm-util
- **9.8** ← 最新版本
- 9.5
- 9.3
- 7.3.1

**影响：** 较高  
**说明：** ASM 是 Minecraft/Forge Mixin 系统的核心依赖，不同的版本可能导致字节码转换问题  
**建议：** 通常 Forge 会统一版本，如果有冲突可以在 `build.gradle` 中强制统一版本

---

## 3. Forge ModLauncher

### cpw.mods:modlauncher
- **10.0.9** ← 最新版本（Forge 1.20.1 使用）
- 10.0.+
- 9.0.7
- 9.0.4

**影响：** 高  
**说明：** ModLauncher 版本差异大（9.x vs 10.x），但这是不同 Minecraft 版本的差异  
**建议：** Gradle 会自动选择 10.0.9，这是 Forge 1.20.1 需要的版本，无需担心

### cpw.mods:securejarhandler
- **2.1.10** ← 最新版本
- 2.1.2
- 0.9.52

**影响：** 高  
**说明：** 版本差异大，但会统一到 2.1.10  
**建议：** 无需处理

---

## 4. 工具库

### net.jodah:typetools
- **0.6.3** ← 实际版本
- 0.6.+ ← 动态版本声明

**影响：** 低  
**说明：** 这是正常的，`0.6.+` 会解析为 `0.6.3`

### org.apache.commons:commons-lang3
- **3.12.0** ← 新版本
- 3.8.1

**影响：** 低  
**建议：** 会统一到 3.12.0

### com.google.code.gson:gson
- **2.10** ← Minecraft 1.20.1 使用
- 2.8.5

**影响：** 低  
**建议：** 会统一到 2.10

### com.google.guava:guava
- **31.1-jre** ← Minecraft 使用
- 31.0.1-jre

**影响：** 低  
**建议：** 会统一到 31.1-jre

### com.ibm.icu:icu4j
- **71.1** ← Minecraft 1.20.1 使用
- 61.1

**影响：** 低  
**建议：** 会统一到 71.1

---

## 5. HTTP/网络库

### org.apache.httpcomponents:httpcore
- **4.4.15** ← 新版本
- 4.4.13

**影响：** 低  
**建议：** 会统一到 4.4.15

### commons-codec:commons-codec
- **1.15** ← 新版本
- 1.11

**影响：** 低  
**建议：** 会统一到 1.15

---

## 6. Forge 工具

### net.minecraftforge:mergetool
- **1.1.7** ← 新版本
- 1.1.5

**影响：** 低  
**说明：** ForgeGradle 内部工具

### net.minecraftforge:srgutils
- **0.4.15** ← 新版本
- 0.4.11

**影响：** 低  
**说明：** ForgeGradle 内部工具

---

## 7. 其他

### org.apache.maven:maven-artifact
- **3.8.5** ← 新版本
- 3.8.1

**影响：** 低

### net.java.dev.jna:jna
- **5.12.1** ← 新版本
- 5.10.0

**影响：** 低

---

## 结论

### ✅ 无需担心的情况

1. **所有重复依赖都是版本差异，不是"同一个库的不同实现"**
   - Gradle 的依赖解析会自动选择最高版本
   - 这是正常的传递依赖行为

2. **没有发现真正的冲突依赖**
   - 没有 slf4j 多个实现同时存在
   - 没有 log4j 1.x 和 log4j 2.x 同时存在
   - 没有 logback 和 log4j 冲突

3. **Forge/Minecraft 的依赖管理会处理版本统一**
   - ForgeGradle 有内置的依赖版本对齐机制
   - ModLauncher 会确保关键库版本正确

### ⚠️ 如果你想强制统一某些版本

可以在 `build.gradle` 中添加：

```groovy
configurations.all {
    resolutionStrategy {
        force 'org.ow2.asm:asm-util:9.8'
        force 'org.apache.logging.log4j:log4j-api:2.19.0'
        force 'org.apache.logging.log4j:log4j-core:2.19.0'
    }
}
```

但通常**不需要**这样做，Gradle 的默认行为已经足够好。

---

## 与 JPMS 报错的关系

**重要：这些依赖重复与你遇到的 `Modules main and heart export package org.heart` 报错无关。**

- JPMS 报错是因为 `org.heart` 包在两个模块中同时出现
- 依赖重复只是版本差异，Gradle 会自动选择最高版本
- 两个问题是完全独立的

---

## 总结一句话

✅ **你的依赖树很干净，所有"重复"都是正常的版本差异，Gradle 会自动统一到最高版本，无需手动处理。**

